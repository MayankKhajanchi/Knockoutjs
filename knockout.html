<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.2/knockout-min.js"></script>
	<link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css">
</head>
<body>


	<div class="container">
		<table class="table table-striped">
					<thead>
						<tr>
							<th>Index</th>
							<th>Name</th>
						</tr>
					</thead>
					<tbody data-bind="foreach: users"> <!-- here the data-bind is foreach and now tbody will go through each item in users array and generate 3 td for each item. 1 for index . 2 for name and 3 for remove button -->
						<tr>
							
							<td data-bind="text: $index"></td> <!-- here the data-bind generates text and the value is $index. $index creates numbers starting from 0  -->
							
							<td data-bind="text: name"></td><!-- this data-bind generates text and derives name from the users array -->
							
							<td><span class="btn btn-danger" data-bind="click: $parent.removeUser">Remove User</span></td> <!-- $parent points to the direct parent which is the tr containing the index, name and the remove button. Here the button Remove User is given an event handler onClick which triggers the function 'removeUser'  -->
						</tr>
					</tbody>
				</table>	
				
				<input type="text" id="newUser">	<!-- both this line and the next line work together -->
				
				<button class="btn btn-primary" data-bind="click: addUser">Add User</button> <!-- this button triggers the function addUser on click which takes the value from the above input field and pushes it to the observableArray users -->
	</div>

<script>
	// function viewModel(){
	// 	this.users = ko.observableArray([
	// 			{name: "Mayank"},
	// 			{name: "knayaM"},
	// 			{name: "Khajanchi"},
	// 			{name: "ihcnajahK"}
	// 	]);
	// 	this.addUser = function(){
	// 		this.users.push({name: $("#newUser").val()});
	// 	}
	// }
	// ko.applyBindings(new viewModel());
	function viewModel(){
		var self = this;
		self.users = ko.observableArray([
				
			]);
		self.addUser = function(){
			self.users.push({name: $("#newUser").val()});
		}
		self.removeUser = function(){
			self.users.remove(this);
		}
	}
	ko.applyBindings(new viewModel());

</script>
</body>
</html>